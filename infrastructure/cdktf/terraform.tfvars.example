# GridPulse Infrastructure Variables
# Copy this file to terraform.tfvars and update with your values
#
# NOTE: This configuration deploys to a single "prod" environment for cost optimization.

# Railway Configuration
# Primary token used by CDKTF provider. Set this to an Account API token.
railway_token       = "your-railway-account-api-token"
project_id          = "10593acb-4a7a-4331-a993-52d24860d1fa"

# Optional: keep both tokens for convenience (not used by CDKTF directly)
# - railway_api_token: Account API token (same as railway_token)
# - railway_project_token: Project-scoped token (useful for CLI redeploy/migrations)
# These are stored for reference and future workflows; do not commit plaintext.
# Comment out if not needed.
# railway_api_token    = "your-railway-account-api-token"
# railway_project_token = "your-railway-project-token"

# Database Configuration
postgres_password = "your-secure-postgres-password"

# Application Configuration  
session_secret = "your-32-character-session-secret-here"

# Data Pipeline Configuration (optional)
eia_api_key = "your-eia-api-key-for-data-ingestion"

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================

# Docker Deployment (RECOMMENDED)
# Use Docker images for fast, reliable, consistent deployments
# IMPORTANT: Pin to a specific, immutable tag produced by Release Build.
# Avoid using ":latest" in production to prevent unintended rollouts.
docker_image = "ghcr.io/owner/grid:v123-abcdef"     # Example pinned tag
docker_username = "your-github-username"            # GitHub username  
docker_password = "your-github-token"               # GitHub personal access token

# Git Deployment (FALLBACK/DEVELOPMENT)
# Use Git source for development or when Docker images aren't available
source_repo = "awynne/grid"                        # Git repository
source_repo_branch = "main"                        # Git branch

# ==============================================================================
# DEPLOYMENT METHOD SELECTION
# ==============================================================================
# 
# If docker_image is provided, Docker deployment will be used (recommended)
# If docker_image is empty, Git deployment will be used as fallback
#
# PRODUCTION: Always use Docker deployment with specific tags (not :latest)
# DEVELOPMENT: Can use either method, Git is acceptable for rapid iteration
# 
# Benefits of Docker deployment:
# - Faster deployments (no build time on Railway)
# - Consistent environments (same image across test/prod) 
# - Easy rollbacks (pin to specific image tags)
# - Better reliability (pre-tested images)
#
